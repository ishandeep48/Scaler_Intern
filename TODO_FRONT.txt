**Role:** You are a Senior Frontend Engineer specializing in Next.js 14, Tailwind CSS, and UX Design.

**Objective:** Build the **Frontend UI** for "BrainBolt" that consumes our existing backend.
**Constraint:** The UI must be "Anti-Fragile" ‚Äî it handles network lag gracefully and shows real-time updates clearly.

**Tech Stack:**
- **Framework:** Next.js 14 (App Router).
- **Styling:** Tailwind CSS.
- **Icons:** Lucide-React.
- **State Management:** SWR (for polling).

---

### **Step 1: Layout & Design System**
1.  **`app/layout.tsx`**: Wrap the app in a dark-themed container (`bg-slate-950 text-slate-50`). Add a `Toaster` for notifications.
2.  **`components/Navbar.tsx`**:
    - **Left:** "BrainBolt ‚ö°" Logo.
    - **Right:** A `UserStats` badge showing:
        - üî• Streak (Orange)
        - üèÜ Score (Yellow)
        - üß† Difficulty (Purple)

### **Step 2: Core Components**
Create these in `components/`:

**1. `QuizCard.tsx` (The Main Game)**
- **Props:** `question` (Object), `onAnswer` (Function).
- **UI:**
    - Display `question.prompt` in large text (`text-2xl`).
    - Display `question.choices` as a grid of buttons.
- **Interaction:**
    - On click, set `isSubmitting = true`.
    - **Visual Feedback:**
        - If Correct: Flash the button GREEN (`bg-emerald-500`) + Show "+10 Score!" animation.
        - If Wrong: Flash the button RED (`bg-rose-500`) + Shake animation.
    - Disable all buttons while submitting.

**2. `LeaderboardWidget.tsx`**
- **Logic:** Use `useSWR('/api/leaderboard', fetcher, { refreshInterval: 5000 })`.
- **UI:** Two tabs: "Top Scores" and "Top Streaks".
- **List:** Show Rank, Username, and Value. Highlight the *current user* if they appear.

### **Step 3: The Game Page (`app/page.tsx`)**
- **Logic:**
    - Check for `userId` in `localStorage`. If missing, generate one (UUID) and save it.
    - Fetch the first question using `useSWR('/api/quiz/next?userId=...')`.
    - **Function `handleAnswer(answer)`:**
        - Call `POST /api/quiz/answer`.
        - **Optimistic UI:** Don't wait for the server to update the score/streak locally‚Äîupdate it instantly, then validate with the server response.
        - Trigger `mutate('/api/quiz/next')` to fetch the next question.

### **Step 4: Real-time "Ping-Pong" Visualizer**
- Add a small "Difficulty Graph" or just a progress bar that shows the current difficulty (1-10).
- **Constraint:** This *must* visually update when the user gets an answer right/wrong so we can prove the "Adaptive" nature to the judges.

---
**Execution:**
1.  Install `lucide-react` and `swr`.
2.  Create the Components first.
3.  Assemble `page.tsx`.
4.  Ensure the "Difficulty" indicator is prominent.